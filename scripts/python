#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
ROOT_DIR="$(cd "$SCRIPT_DIR/.." && pwd)"

# Ensure statement_generator/src is importable when running from repo root.
if [ -d "$ROOT_DIR/statement_generator" ]; then
  export PYTHONPATH="$ROOT_DIR/statement_generator${PYTHONPATH:+:$PYTHONPATH}"
fi

if command -v python3 >/dev/null 2>&1; then
  exec python3 "$@"
fi

echo "python3 not found. Install Python 3 or update PATH." >&2
exit 127
